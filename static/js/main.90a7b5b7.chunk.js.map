{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoadingIndicator/LoadingIndicator.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/LoadingIndicator/LoadingIndicator.jsx","services/gallery-api.js","services/utilities.js","components/App/App.jsx","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","target","setState","value","handleSubmit","e","preventDefault","props","onSubmit","this","className","SearchbarStyle","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewURL","tags","largeImg","onClick","ImageGalleryItemStyle","src","alt","ImageGalleryItemImage","large-img","ImageGallery","images","ImageGalleryStyle","map","webformatURL","largeImageURL","key","uuidv4","Button","ButtonStyle","Modal","overlayRef","createRef","handleKeyPress","code","onClose","handleOverlayClick","current","window","addEventListener","removeEventListener","overlayStyle","ref","modalStyle","LoadingIndicator","loaderStyle","color","height","width","fetchImages","pageNumber","axios","get","bottomScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","App","gallery","largeImageUrl","isModalOpen","isLoading","getSearchQuery","data","handleLoadMore","prevState","handleCloseModal","handleOpenModal","attributes","prevProps","then","res","length","hits","catch","error","console","log","finally","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.90a7b5b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlayStyle\":\"Modal_overlayStyle__ydLf8\",\"modalStyle\":\"Modal_modalStyle__1ym8O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryStyle\":\"ImageGallery_ImageGalleryStyle__1b8Fs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonStyle\":\"Button_ButtonStyle__1BjD-\",\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderStyle\":\"LoadingIndicator_loaderStyle__en8Ig\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchbarStyle\":\"Searchbar_SearchbarStyle__3Y9PT\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  SearchbarStyle,\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n} from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = ({ target }) => {\n    this.setState({ query: target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    this.props.onSubmit(query);\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={SearchbarStyle}>\n        <form className={SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={SearchFormButton}>\n            <span className={SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ImageGalleryItemStyle,\n  ImageGalleryItemImage,\n} from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ previewURL, tags, largeImg, onClick }) => (\n  <li className={ImageGalleryItemStyle}>\n    <img\n      src={previewURL}\n      alt={tags}\n      className={ImageGalleryItemImage}\n      large-img={largeImg}\n      onClick={onClick}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  previewURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport { ImageGalleryStyle } from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onClick }) => (\n  <ul className={ImageGalleryStyle}>\n    {images.map(({ webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={uuidv4()}\n        previewURL={webformatURL}\n        tags={tags}\n        largeImg={largeImageURL}\n        onClick={onClick}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ButtonStyle } from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={ButtonStyle} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { overlayStyle, modalStyle } from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n    if (current && e.target !== current) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { src } = this.props;\n    return (\n      <div\n        className={overlayStyle}\n        ref={this.overlayRef}\n        onClick={this.handleOverlayClick}\n      >\n        <div>\n          <img className={modalStyle} alt=\"modal\" src={src} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport { loaderStyle } from './LoadingIndicator.module.css';\n\nconst LoadingIndicator = () => (\n  <Loader\n    className={loaderStyle}\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={80}\n    width={80}\n  />\n);\n\nexport default LoadingIndicator;\n","import axios from 'axios';\n\nconst KEY = '15725368-0fb82873f639e86c3efee11f4';\nconst BASE_URL = 'https://pixabay.com/api/?q=';\nconst PER_PAGE = 'per_page=12';\n\nconst fetchImages = (query, pageNumber) => {\n  return axios.get(\n    `${BASE_URL}${query}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&${PER_PAGE}`,\n  );\n};\n\nexport default fetchImages;\n","const bottomScroll = () => {\n    return window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  \n  export default bottomScroll;\n  ","import React, { Component } from 'react';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport LoadingIndicator from '../LoadingIndicator/LoadingIndicator';\n\nimport fetchImages from '../../services/gallery-api';\nimport bottomScroll from '../../services/utilities';\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    pageNumber: 1,\n    query: '',\n    largeImageUrl: '',\n    isModalOpen: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, pageNumber, gallery } = this.state;\n\n    if (query !== prevState.query || pageNumber !== prevState.pageNumber) {\n      this.setState({ isLoading: true });\n\n      fetchImages(query, pageNumber)\n        .then(res =>\n          !gallery.length\n            ? this.setState({ gallery: [...res.data.hits] })\n            : this.setState({\n                gallery: [...prevState.gallery, ...res.data.hits],\n              }),\n        )\n        .catch(error => console.log(error))\n        .finally(() => {\n          this.setState({ isLoading: false });\n\n          if (pageNumber !== 1) bottomScroll();\n        });\n    }\n  }\n\n  getSearchQuery = data => {\n    this.setState({ query: data, gallery: [], pageNumber: 1 });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  handleCloseModal = () =>\n    this.setState({ isModalOpen: false, largeImageUrl: '' });\n\n  handleOpenModal = ({ target }) =>\n    this.setState({\n      isModalOpen: true,\n      largeImageUrl: target.attributes['large-img'].value,\n    });\n\n  render() {\n    const { gallery, isLoading, largeImageUrl, isModalOpen } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.getSearchQuery} />\n        <ImageGallery images={gallery} onClick={this.handleOpenModal} />\n        {isLoading && <LoadingIndicator />}\n        {!!gallery.length && <Button onClick={this.handleLoadMore} />}\n        {isModalOpen && (\n          <Modal src={largeImageUrl} onClose={this.handleCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemStyle\":\"ImageGalleryItem_ImageGalleryItemStyle__2Lne7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};"],"sourceRoot":""}